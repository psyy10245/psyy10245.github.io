<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”„ë¦¬ë¯¸ì—„ í•™ìŠµ í”Œë«í¼</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600;700&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a1a2e;
            --secondary: #16213e;
            --accent: #e94560;
            --accent-light: #ff6b85;
            --gold: #d4af37;
            --bg: #0f0f1e;
            --text: #e8e8e8;
            --text-dim: #a0a0a0;
            --card-bg: #1e1e3f;
            --border: rgba(255, 255, 255, 0.1);
            --success: #00b894;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(26, 26, 46, 0.95);
            backdrop-filter: blur(10px);
            padding: 1.2rem 5%;
            z-index: 1000;
            border-bottom: 1px solid var(--border);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Crimson Pro', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text);
            letter-spacing: -0.5px;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-dim);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--accent-light);
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-light);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(233, 69, 96, 0.3);
        }

        .btn-outline {
            background: transparent;
            color: var(--text);
            border: 2px solid var(--border);
        }

        .btn-outline:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .btn-admin {
            background: var(--gold);
            color: var(--primary);
        }

        .btn-admin:hover {
            background: #f0c14b;
        }

        .btn-google {
            background: white;
            color: #333;
            padding: 0.8rem 1.8rem;
            font-weight: 500;
        }

        .btn-google:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
        }

        /* Hero Section */
        .hero {
            margin-top: 80px;
            padding: 6rem 5% 4rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 0%, rgba(233, 69, 96, 0.15), transparent 70%);
            z-index: -1;
        }

        .hero h1 {
            font-family: 'Crimson Pro', serif;
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.1;
            background: linear-gradient(135deg, var(--text), var(--accent-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeInUp 0.8s ease-out;
        }

        .hero p {
            font-size: 1.3rem;
            color: var(--text-dim);
            max-width: 600px;
            margin: 0 auto 2.5rem;
            animation: fadeInUp 0.8s ease-out 0.2s backwards;
        }

        .cta-group {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            animation: fadeInUp 0.8s ease-out 0.4s backwards;
        }

        /* Courses Section */
        .courses {
            padding: 5rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h2 {
            font-family: 'Crimson Pro', serif;
            font-size: 2.8rem;
            margin-bottom: 1rem;
        }

        .course-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
        }

        .course-card {
            background: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border);
            transition: all 0.4s;
            cursor: pointer;
            position: relative;
        }

        .course-card:hover {
            transform: translateY(-8px);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(233, 69, 96, 0.2);
        }

        .course-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            position: relative;
        }

        .premium-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--gold);
            color: var(--primary);
            padding: 0.4rem 0.9rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .course-content {
            padding: 1.8rem;
        }

        .course-content h3 {
            font-family: 'Crimson Pro', serif;
            font-size: 1.5rem;
            margin-bottom: 0.8rem;
        }

        .course-content p {
            color: var(--text-dim);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .course-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent);
        }

        .price-original {
            text-decoration: line-through;
            color: var(--text-dim);
            font-size: 1.1rem;
            margin-left: 0.5rem;
        }

        /* Advertisement Section */
        .ad-section {
            padding: 3rem 5%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }

        .ad-container {
            max-width: 1400px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 3rem;
            border: 2px solid var(--accent);
            position: relative;
            overflow: hidden;
        }

        .ad-container::before {
            content: 'ê´‘ê³ ';
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--accent);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .ad-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }

        .ad-text h3 {
            font-family: 'Crimson Pro', serif;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--accent-light);
        }

        .ad-text p {
            color: var(--text-dim);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .ad-visual {
            background: linear-gradient(135deg, var(--accent), var(--gold));
            height: 250px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 3rem;
            max-width: 500px;
            width: 90%;
            border: 1px solid var(--border);
            animation: slideUp 0.4s ease-out;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-content.large {
            max-width: 900px;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: var(--text-dim);
            font-size: 1.8rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .modal-close:hover {
            color: var(--accent);
        }

        .modal h2 {
            font-family: 'Crimson Pro', serif;
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        /* Payment Modal */
        .payment-details {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 2rem;
        }

        .payment-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .payment-row:last-child {
            border-bottom: none;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent);
        }

        .payment-methods {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .payment-method {
            background: var(--secondary);
            padding: 1.2rem;
            border-radius: 12px;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .payment-method:hover {
            border-color: var(--accent);
            background: var(--primary);
        }

        .payment-method.selected {
            border-color: var(--accent);
            background: var(--accent);
            color: white;
        }

        .bank-transfer-info {
            display: none;
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
        }

        .bank-transfer-info.show {
            display: block;
        }

        .bank-info {
            background: var(--primary);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .bank-info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .bank-info-row strong {
            color: var(--accent-light);
        }

        .copy-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            margin-left: 0.5rem;
        }

        .copy-btn:hover {
            background: var(--accent-light);
        }

        /* Login Modal */
        .login-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .social-login {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: white;
            color: #333;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 1rem;
        }

        .social-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
        }

        .social-login svg {
            width: 24px;
            height: 24px;
        }

        .divider {
            text-align: center;
            margin: 1.5rem 0;
            color: var(--text-dim);
            position: relative;
        }

        .divider::before,
        .divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%;
            height: 1px;
            background: var(--border);
        }

        .divider::before {
            left: 0;
        }

        .divider::after {
            right: 0;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-dim);
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.9rem;
            background: var(--secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            font-family: 'DM Sans', sans-serif;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--accent);
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* User Profile */
        .user-profile {
            display: none;
            align-items: center;
            gap: 1rem;
        }

        .user-profile.active {
            display: flex;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .user-name {
            font-weight: 500;
        }

        /* Admin Dashboard */
        .admin-dashboard {
            display: none;
            padding: 5rem 5% 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .admin-dashboard.active {
            display: block;
        }

        .admin-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border);
        }

        .admin-tab {
            padding: 1rem 2rem;
            background: transparent;
            border: none;
            color: var(--text-dim);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .admin-tab:hover {
            color: var(--text);
        }

        .admin-tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        .admin-panel {
            display: none;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .stat-card h4 {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .stat-card .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent);
        }

        .data-table {
            width: 100%;
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
        }

        .data-table th,
        .data-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .data-table th {
            background: var(--secondary);
            font-weight: 600;
            color: var(--accent-light);
        }

        .data-table tr:hover {
            background: var(--secondary);
        }

        .action-btn {
            padding: 0.4rem 0.8rem;
            margin-right: 0.5rem;
            font-size: 0.85rem;
        }

        /* Success Message */
        .success-message {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 1rem;
            font-weight: 600;
            display: none;
        }

        .success-message.show {
            display: block;
            animation: slideUp 0.4s ease-out;
        }

        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .alert-info {
            background: rgba(52, 152, 219, 0.2);
            border: 1px solid rgba(52, 152, 219, 0.5);
            color: #3498db;
        }

        .alert-warning {
            background: rgba(243, 156, 18, 0.2);
            border: 1px solid rgba(243, 156, 18, 0.5);
            color: #f39c12;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .cta-group {
                flex-direction: column;
            }

            .ad-content {
                grid-template-columns: 1fr;
            }

            .course-grid {
                grid-template-columns: 1fr;
            }

            .admin-tabs {
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">LearnHub</div>
            <div class="nav-links">
                <a href="#" onclick="showMainSite(); return false;">í™ˆ</a>
                <a href="#courses">ê°•ì¢Œ</a>
                <a href="#pricing">ê°€ê²©</a>
            </div>
            <div class="auth-buttons">
                <button class="btn btn-outline" onclick="openLoginModal()">ë¡œê·¸ì¸</button>
                <button class="btn btn-primary" onclick="openLoginModal()">ì‹œì‘í•˜ê¸°</button>
                <div class="user-profile" id="userProfile">
                    <div class="user-avatar" id="userAvatar"></div>
                    <span class="user-name" id="userName"></span>
                    <button class="btn btn-admin" id="adminBtn" onclick="showAdminDashboard()" style="display: none;">ê´€ë¦¬ì</button>
                    <button class="btn btn-outline" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Site -->
    <div id="mainSite">
        <!-- Hero Section -->
        <section class="hero">
            <h1>ì„¸ìƒì„ ë°”ê¾¸ëŠ”<br>ì§€ì‹ì˜ í˜</h1>
            <p>ì „ë¬¸ê°€ë“¤ì´ ë§Œë“  í”„ë¦¬ë¯¸ì—„ ê°•ì¢Œë¡œ ë‹¹ì‹ ì˜ ë¯¸ë˜ë¥¼ ì„¤ê³„í•˜ì„¸ìš”</p>
            <div class="cta-group">
                <button class="btn btn-primary btn-google" onclick="loginWithGoogle()">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    Googleë¡œ ì‹œì‘í•˜ê¸°
                </button>
                <button class="btn btn-outline" onclick="document.querySelector('#courses').scrollIntoView({behavior: 'smooth'})">ê°•ì¢Œ ë‘˜ëŸ¬ë³´ê¸°</button>
            </div>
        </section>

        <!-- Courses Section -->
        <section class="courses" id="courses">
            <div class="section-header">
                <h2>ì¸ê¸° ê°•ì¢Œ</h2>
                <p style="color: var(--text-dim);">ì—…ê³„ ìµœê³ ì˜ ì „ë¬¸ê°€ë“¤ì´ ë§Œë“  ê°•ì¢Œë¥¼ ë§Œë‚˜ë³´ì„¸ìš”</p>
            </div>
            <div class="course-grid" id="courseGrid">
                <!-- ê°•ì¢ŒëŠ” JavaScriptë¡œ ë™ì  ìƒì„± -->
            </div>
        </section>

        <!-- Advertisement Section -->
        <section class="ad-section" id="adSection">
            <!-- ê´‘ê³ ëŠ” JavaScriptë¡œ ë™ì  ìƒì„± -->
        </section>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-dashboard" id="adminDashboard">
        <h1 style="font-family: 'Crimson Pro', serif; font-size: 3rem; margin-bottom: 2rem;">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
        
        <div class="admin-tabs">
            <button class="admin-tab active" onclick="switchAdminTab('stats')">í†µê³„</button>
            <button class="admin-tab" onclick="switchAdminTab('courses')">ê°•ì¢Œ ê´€ë¦¬</button>
            <button class="admin-tab" onclick="switchAdminTab('ads')">ê´‘ê³  ê´€ë¦¬</button>
            <button class="admin-tab" onclick="switchAdminTab('payments')">ê²°ì œ ë‚´ì—­</button>
            <button class="admin-tab" onclick="switchAdminTab('settings')">ì„¤ì •</button>
        </div>

        <!-- Stats Panel -->
        <div class="admin-panel active" id="statsPanel">
            <div class="admin-stats">
                <div class="stat-card">
                    <h4>ì´ ë§¤ì¶œ</h4>
                    <div class="stat-value" id="totalRevenue">â‚©0</div>
                </div>
                <div class="stat-card">
                    <h4>ì´ ê²°ì œ ê±´ìˆ˜</h4>
                    <div class="stat-value" id="totalPayments">0</div>
                </div>
                <div class="stat-card">
                    <h4>ë“±ë¡ëœ ê°•ì¢Œ</h4>
                    <div class="stat-value" id="totalCourses">0</div>
                </div>
                <div class="stat-card">
                    <h4>í™œì„± ê´‘ê³ </h4>
                    <div class="stat-value" id="totalAds">0</div>
                </div>
            </div>
        </div>

        <!-- Courses Panel -->
        <div class="admin-panel" id="coursesPanel">
            <button class="btn btn-primary" onclick="openCourseModal()">+ ìƒˆ ê°•ì¢Œ ì¶”ê°€</button>
            <div style="height: 2rem;"></div>
            <table class="data-table" id="coursesTable">
                <thead>
                    <tr>
                        <th>ê°•ì¢Œëª…</th>
                        <th>ê°€ê²©</th>
                        <th>ì´ëª¨ì§€</th>
                        <th>ì‘ì—…</th>
                    </tr>
                </thead>
                <tbody id="coursesTableBody">
                </tbody>
            </table>
        </div>

        <!-- Ads Panel -->
        <div class="admin-panel" id="adsPanel">
            <button class="btn btn-primary" onclick="openAdModal()">+ ìƒˆ ê´‘ê³  ì¶”ê°€</button>
            <div style="height: 2rem;"></div>
            <table class="data-table" id="adsTable">
                <thead>
                    <tr>
                        <th>ì œëª©</th>
                        <th>ë‚´ìš©</th>
                        <th>ìƒíƒœ</th>
                        <th>ì‘ì—…</th>
                    </tr>
                </thead>
                <tbody id="adsTableBody">
                </tbody>
            </table>
        </div>

        <!-- Payments Panel -->
        <div class="admin-panel" id="paymentsPanel">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ë‚ ì§œ</th>
                        <th>ê°•ì¢Œëª…</th>
                        <th>ê¸ˆì•¡</th>
                        <th>ê²°ì œìˆ˜ë‹¨</th>
                        <th>ì…ê¸ˆìëª…</th>
                        <th>ìƒíƒœ</th>
                    </tr>
                </thead>
                <tbody id="paymentsTableBody">
                </tbody>
            </table>
        </div>

        <!-- Settings Panel -->
        <div class="admin-panel" id="settingsPanel">
            <h3 style="margin-bottom: 2rem;">ê³„ì¢Œ ì •ë³´ ì„¤ì •</h3>
            <div class="form-group">
                <label>ì€í–‰ëª…</label>
                <input type="text" id="bankName" value="êµ­ë¯¼ì€í–‰">
            </div>
            <div class="form-group">
                <label>ê³„ì¢Œë²ˆí˜¸</label>
                <input type="text" id="accountNumber" value="123456-78-901234">
            </div>
            <div class="form-group">
                <label>ì˜ˆê¸ˆì£¼</label>
                <input type="text" id="accountHolder" value="LearnHub">
            </div>
            <button class="btn btn-primary" onclick="saveSettings()">ì„¤ì • ì €ì¥</button>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeLoginModal()">Ã—</button>
            <h2>ì‹œì‘í•˜ê¸°</h2>
            
            <div class="login-options">
                <button class="social-login" onclick="loginWithGoogle()">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    Googleë¡œ ê³„ì†í•˜ê¸°
                </button>
            </div>

            <div class="divider">ë˜ëŠ”</div>

            <form onsubmit="handleEmailLogin(event)">
                <div class="form-group">
                    <label>ì´ë©”ì¼</label>
                    <input type="email" id="loginEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label>ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">ë¡œê·¸ì¸</button>
            </form>

            <div style="margin-top: 1.5rem; text-align: center; color: var(--text-dim); font-size: 0.9rem;">
                ê´€ë¦¬ì ë¡œê·¸ì¸: admin@learnhub.com / admin123
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closePaymentModal()">Ã—</button>
            <h2>ê²°ì œí•˜ê¸°</h2>
            
            <div id="successMessage" class="success-message">
                ê²°ì œ ìš”ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰
            </div>

            <div class="payment-details">
                <div class="payment-row">
                    <span>ê°•ì¢Œëª…</span>
                    <span id="courseName"></span>
                </div>
                <div class="payment-row">
                    <span>ê°€ê²©</span>
                    <span id="coursePrice"></span>
                </div>
                <div class="payment-row">
                    <span>ì´ ê²°ì œê¸ˆì•¡</span>
                    <span id="totalPrice"></span>
                </div>
            </div>

            <p style="margin-bottom: 1rem; color: var(--text-dim);">ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ</p>
            <div class="payment-methods">
                <div class="payment-method" onclick="selectPaymentMethod(this, 'bank')">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ¦</div>
                    <div><strong>ë¬´í†µì¥ ì…ê¸ˆ</strong></div>
                    <div style="font-size: 0.85rem; color: var(--text-dim);">ê°€ìƒê³„ì¢Œ ë°œê¸‰ í›„ ì…ê¸ˆ</div>
                </div>
            </div>

            <div class="bank-transfer-info" id="bankTransferInfo">
                <div class="alert alert-info">
                    ì•„ë˜ ê³„ì¢Œë¡œ ì…ê¸ˆí•´ì£¼ì‹œë©´ í™•ì¸ í›„ ê°•ì¢Œê°€ í™œì„±í™”ë©ë‹ˆë‹¤.
                </div>
                
                <div class="bank-info">
                    <div class="bank-info-row">
                        <span>ì€í–‰</span>
                        <strong id="displayBankName">êµ­ë¯¼ì€í–‰</strong>
                    </div>
                    <div class="bank-info-row">
                        <span>ê³„ì¢Œë²ˆí˜¸</span>
                        <div>
                            <strong id="displayAccountNumber">123456-78-901234</strong>
                            <button class="copy-btn" onclick="copyAccountNumber()">ë³µì‚¬</button>
                        </div>
                    </div>
                    <div class="bank-info-row">
                        <span>ì˜ˆê¸ˆì£¼</span>
                        <strong id="displayAccountHolder">LearnHub</strong>
                    </div>
                    <div class="bank-info-row">
                        <span>ì…ê¸ˆì•¡</span>
                        <strong id="displayAmount"></strong>
                    </div>
                </div>

                <div class="form-group">
                    <label>ì…ê¸ˆìëª… *</label>
                    <input type="text" id="depositorName" placeholder="í™ê¸¸ë™" required>
                    <small style="color: var(--text-dim); font-size: 0.85rem;">ì…ê¸ˆ í™•ì¸ì„ ìœ„í•´ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”</small>
                </div>

                <div class="alert alert-warning">
                    âš ï¸ ì…ê¸ˆìëª…ì„ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”. ì…ê¸ˆ í™•ì¸ì€ ì˜ì—…ì¼ ê¸°ì¤€ 1-2ì¼ ì†Œìš”ë©ë‹ˆë‹¤.
                </div>
            </div>

            <button class="btn btn-primary" style="width: 100%; padding: 1.2rem;" onclick="processPayment()">
                ê²°ì œ ìš”ì²­í•˜ê¸°
            </button>
        </div>
    </div>

    <!-- Course Modal -->
    <div class="modal" id="courseModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeCourseModal()">Ã—</button>
            <h2 id="courseModalTitle">ìƒˆ ê°•ì¢Œ ì¶”ê°€</h2>
            
            <form onsubmit="saveCourse(event)">
                <div class="form-group">
                    <label>ê°•ì¢Œëª…</label>
                    <input type="text" id="courseNameInput" required>
                </div>
                <div class="form-group">
                    <label>ì„¤ëª…</label>
                    <textarea id="courseDescInput" required></textarea>
                </div>
                <div class="form-group">
                    <label>ê°€ê²© (ì›)</label>
                    <input type="number" id="coursePriceInput" required>
                </div>
                <div class="form-group">
                    <label>í• ì¸ ì „ ê°€ê²© (ì›)</label>
                    <input type="number" id="courseOriginalPriceInput">
                </div>
                <div class="form-group">
                    <label>ì´ëª¨ì§€</label>
                    <input type="text" id="courseEmojiInput" placeholder="ğŸ’»" maxlength="2">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">ì €ì¥</button>
            </form>
        </div>
    </div>

    <!-- Ad Modal -->
    <div class="modal" id="adModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAdModal()">Ã—</button>
            <h2 id="adModalTitle">ìƒˆ ê´‘ê³  ì¶”ê°€</h2>
            
            <form onsubmit="saveAd(event)">
                <div class="form-group">
                    <label>ì œëª©</label>
                    <input type="text" id="adTitleInput" required>
                </div>
                <div class="form-group">
                    <label>ë‚´ìš©</label>
                    <textarea id="adContentInput" required></textarea>
                </div>
                <div class="form-group">
                    <label>ë²„íŠ¼ í…ìŠ¤íŠ¸</label>
                    <input type="text" id="adButtonInput" value="ì§€ê¸ˆ í™•ì¸í•˜ê¸°">
                </div>
                <div class="form-group">
                    <label>ì´ëª¨ì§€</label>
                    <input type="text" id="adEmojiInput" placeholder="ğŸ" maxlength="2">
                </div>
                <div class="form-group">
                    <label>ìƒíƒœ</label>
                    <select id="adStatusInput">
                        <option value="active">í™œì„±</option>
                        <option value="inactive">ë¹„í™œì„±</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">ì €ì¥</button>
            </form>
        </div>
    </div>

    <script>
        // ============= ë°ì´í„° ì €ì¥ì†Œ (LocalStorage ì‚¬ìš©) =============
        const DB = {
            get: (key) => {
                const data = localStorage.getItem(key);
                return data ? JSON.parse(data) : null;
            },
            set: (key, value) => {
                localStorage.setItem(key, JSON.stringify(value));
            },
            init: () => {
                if (!DB.get('courses')) {
                    DB.set('courses', [
                        {id: 1, name: 'ì›¹ ê°œë°œ ë§ˆìŠ¤í„°í´ë˜ìŠ¤', desc: 'HTML, CSS, JavaScriptë¶€í„° Reactê¹Œì§€ ì™„ë²½í•˜ê²Œ ë°°ìš°ëŠ” ì¢…í•© ê°•ì¢Œ', price: 89000, originalPrice: 150000, emoji: 'ğŸ’»'},
                        {id: 2, name: 'ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ì™„ì„±', desc: 'Python, ë¨¸ì‹ ëŸ¬ë‹, ë°ì´í„° ë¶„ì„ê¹Œì§€ ì‹¤ë¬´ ì¤‘ì‹¬ í”„ë¡œì íŠ¸', price: 129000, originalPrice: 200000, emoji: 'ğŸ“Š'},
                        {id: 3, name: 'UI/UX ë””ìì¸ ì‹¤ë¬´', desc: 'Figmaë¥¼ í™œìš©í•œ ì‹¤ë¬´ í”„ë¡œì íŠ¸ì™€ í¬íŠ¸í´ë¦¬ì˜¤ ì œì‘', price: 99000, originalPrice: 170000, emoji: 'ğŸ¨'}
                    ]);
                }
                if (!DB.get('ads')) {
                    DB.set('ads', [
                        {id: 1, title: 'ğŸ‰ íŠ¹ë³„ í• ì¸ ì´ë²¤íŠ¸', content: 'ì§€ê¸ˆ ê°€ì…í•˜ë©´ ëª¨ë“  ê°•ì¢Œ 40% í• ì¸!\në†“ì¹˜ì§€ ë§ˆì„¸ìš”, ì´ë²ˆ ì£¼ë§ê¹Œì§€ë§Œ!', button: 'ì§€ê¸ˆ ê°€ì…í•˜ê³  í• ì¸ë°›ê¸°', emoji: 'ğŸ', status: 'active'}
                    ]);
                }
                if (!DB.get('payments')) DB.set('payments', []);
                if (!DB.get('settings')) {
                    DB.set('settings', {
                        bankName: 'êµ­ë¯¼ì€í–‰',
                        accountNumber: '123456-78-901234',
                        accountHolder: 'LearnHub'
                    });
                }
            }
        };

        // ============= ì „ì—­ ìƒíƒœ =============
        let currentUser = null;
        let selectedPaymentMethod = null;
        let currentCourse = null;
        let editingCourseId = null;
        let editingAdId = null;

        // ============= ì´ˆê¸°í™” =============
        document.addEventListener('DOMContentLoaded', () => {
            DB.init();
            renderCourses();
            renderAds();
            updateAdminStats();
        });

        // ============= ë¡œê·¸ì¸ ê´€ë ¨ =============
        function loginWithGoogle() {
            const mockUser = {
                name: 'í™ê¸¸ë™',
                email: 'hong@example.com',
                isAdmin: false
            };
            currentUser = mockUser;
            updateUIAfterLogin();
            closeLoginModal();
            alert('Google ë¡œê·¸ì¸ ì‹œë®¬ë ˆì´ì…˜\n\nì‹¤ì œ êµ¬í˜„ì‹œ Google OAuth 2.0 ì‚¬ìš©:\nhttps://developers.google.com/identity/gsi/web');
        }

        function handleEmailLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            currentUser = {
                name: email.split('@')[0],
                email: email,
                isAdmin: email === 'admin@learnhub.com' && password === 'admin123'
            };

            updateUIAfterLogin();
            closeLoginModal();

            if (currentUser.isAdmin) {
                alert('ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }
        }

        function updateUIAfterLogin() {
            const authButtons = document.querySelector('.auth-buttons');
            authButtons.querySelector('.btn-outline').style.display = 'none';
            authButtons.querySelector('.btn-primary').style.display = 'none';
            
            const userProfile = document.getElementById('userProfile');
            userProfile.classList.add('active');
            
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
            
            if (currentUser.isAdmin) {
                document.getElementById('adminBtn').style.display = 'inline-flex';
            }
        }

        function logout() {
            currentUser = null;
            const authButtons = document.querySelector('.auth-buttons');
            authButtons.querySelector('.btn-outline').style.display = 'inline-flex';
            authButtons.querySelector('.btn-primary').style.display = 'inline-flex';
            document.getElementById('userProfile').classList.remove('active');
            document.getElementById('adminBtn').style.display = 'none';
            showMainSite();
        }

        // ============= ëª¨ë‹¬ ê´€ë ¨ =============
        function openLoginModal() {
            document.getElementById('loginModal').classList.add('active');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('active');
        }

        function openPaymentModal(courseName, price) {
            if (!currentUser) {
                alert('ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”!');
                openLoginModal();
                return;
            }

            const settings = DB.get('settings');
            currentCourse = { name: courseName, price: price };
            
            document.getElementById('courseName').textContent = courseName;
            document.getElementById('coursePrice').textContent = `â‚©${price.toLocaleString()}`;
            document.getElementById('totalPrice').textContent = `â‚©${price.toLocaleString()}`;
            document.getElementById('displayAmount').textContent = `â‚©${price.toLocaleString()}`;
            
            document.getElementById('displayBankName').textContent = settings.bankName;
            document.getElementById('displayAccountNumber').textContent = settings.accountNumber;
            document.getElementById('displayAccountHolder').textContent = settings.accountHolder;
            
            document.getElementById('paymentModal').classList.add('active');
            document.getElementById('successMessage').classList.remove('show');
            document.getElementById('bankTransferInfo').classList.remove('show');
            
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            selectedPaymentMethod = null;
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('active');
        }

        function selectPaymentMethod(element, method) {
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedPaymentMethod = method;
            
            if (method === 'bank') {
                document.getElementById('bankTransferInfo').classList.add('show');
            }
        }

        function copyAccountNumber() {
            const accountNumber = document.getElementById('displayAccountNumber').textContent;
            navigator.clipboard.writeText(accountNumber).then(() => {
                alert('ê³„ì¢Œë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤: ' + accountNumber);
            });
        }

        function processPayment() {
            if (!selectedPaymentMethod) {
                alert('ê²°ì œ ìˆ˜ë‹¨ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }

            const depositorName = document.getElementById('depositorName').value;
            if (!depositorName) {
                alert('ì…ê¸ˆìëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const payment = {
                id: Date.now(),
                date: new Date().toISOString(),
                courseName: currentCourse.name,
                amount: currentCourse.price,
                method: 'ë¬´í†µì¥ì…ê¸ˆ',
                depositorName: depositorName,
                status: 'ì…ê¸ˆëŒ€ê¸°',
                user: currentUser.email
            };

            const payments = DB.get('payments');
            payments.push(payment);
            DB.set('payments', payments);

            document.getElementById('successMessage').classList.add('show');
            
            setTimeout(() => {
                closePaymentModal();
                alert(`ê²°ì œ ìš”ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì…ê¸ˆ ì •ë³´:\n${DB.get('settings').bankName} ${DB.get('settings').accountNumber}\nì…ê¸ˆìëª…: ${depositorName}\nê¸ˆì•¡: â‚©${currentCourse.price.toLocaleString()}\n\nì…ê¸ˆ í™•ì¸ í›„ ê°•ì¢Œê°€ í™œì„±í™”ë©ë‹ˆë‹¤.`);
                updateAdminStats();
                renderPayments();
            }, 2000);
        }

        // ============= ê°•ì¢Œ ë Œë”ë§ =============
        function renderCourses() {
            const courses = DB.get('courses');
            const grid = document.getElementById('courseGrid');
            grid.innerHTML = courses.map(course => `
                <div class="course-card" onclick="openPaymentModal('${course.name}', ${course.price})">
                    <div class="course-image">
                        ${course.emoji}
                        <span class="premium-badge">PREMIUM</span>
                    </div>
                    <div class="course-content">
                        <h3>${course.name}</h3>
                        <p>${course.desc}</p>
                        <div class="course-footer">
                            <div>
                                <span class="price">â‚©${course.price.toLocaleString()}</span>
                                ${course.originalPrice ? `<span class="price-original">â‚©${course.originalPrice.toLocaleString()}</span>` : ''}
                            </div>
                            <button class="btn btn-primary">êµ¬ë§¤í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ============= ê´‘ê³  ë Œë”ë§ =============
        function renderAds() {
            const ads = DB.get('ads').filter(ad => ad.status === 'active');
            const section = document.getElementById('adSection');
            
            if (ads.length === 0) {
                section.innerHTML = '';
                return;
            }

            section.innerHTML = ads.map(ad => `
                <div class="ad-container">
                    <div class="ad-content">
                        <div class="ad-text">
                            <h3>${ad.title}</h3>
                            <p>${ad.content.replace(/\n/g, '<br>')}</p>
                            <button class="btn btn-primary" onclick="openLoginModal()">${ad.button}</button>
                        </div>
                        <div class="ad-visual">
                            ${ad.emoji}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ============= ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ =============
        function showAdminDashboard() {
            if (!currentUser || !currentUser.isAdmin) {
                alert('ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }
            document.getElementById('mainSite').style.display = 'none';
            document.getElementById('adminDashboard').classList.add('active');
            updateAdminStats();
            renderAdminCourses();
            renderAdminAds();
            renderPayments();
            loadSettings();
        }

        function showMainSite() {
            document.getElementById('mainSite').style.display = 'block';
            document.getElementById('adminDashboard').classList.remove('active');
        }

        function switchAdminTab(tab) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-panel').forEach(p => p.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + 'Panel').classList.add('active');
        }

        function updateAdminStats() {
            const courses = DB.get('courses');
            const ads = DB.get('ads').filter(ad => ad.status === 'active');
            const payments = DB.get('payments');
            
            const totalRevenue = payments.reduce((sum, p) => sum + p.amount, 0);
            
            document.getElementById('totalRevenue').textContent = `â‚©${totalRevenue.toLocaleString()}`;
            document.getElementById('totalPayments').textContent = payments.length;
            document.getElementById('totalCourses').textContent = courses.length;
            document.getElementById('totalAds').textContent = ads.length;
        }

        function renderAdminCourses() {
            const courses = DB.get('courses');
            const tbody = document.getElementById('coursesTableBody');
            tbody.innerHTML = courses.map(course => `
                <tr>
                    <td>${course.name}</td>
                    <td>â‚©${course.price.toLocaleString()}</td>
                    <td>${course.emoji}</td>
                    <td>
                        <button class="btn btn-outline action-btn" onclick="editCourse(${course.id})">ìˆ˜ì •</button>
                        <button class="btn btn-primary action-btn" onclick="deleteCourse(${course.id})">ì‚­ì œ</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderAdminAds() {
            const ads = DB.get('ads');
            const tbody = document.getElementById('adsTableBody');
            tbody.innerHTML = ads.map(ad => `
                <tr>
                    <td>${ad.title}</td>
                    <td>${ad.content.substring(0, 50)}...</td>
                    <td><span style="color: ${ad.status === 'active' ? 'var(--success)' : 'var(--text-dim)'}">${ad.status === 'active' ? 'í™œì„±' : 'ë¹„í™œì„±'}</span></td>
                    <td>
                        <button class="btn btn-outline action-btn" onclick="editAd(${ad.id})">ìˆ˜ì •</button>
                        <button class="btn btn-primary action-btn" onclick="deleteAd(${ad.id})">ì‚­ì œ</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderPayments() {
            const payments = DB.get('payments');
            const tbody = document.getElementById('paymentsTableBody');
            tbody.innerHTML = payments.reverse().map(payment => `
                <tr>
                    <td>${new Date(payment.date).toLocaleDateString('ko-KR')}</td>
                    <td>${payment.courseName}</td>
                    <td>â‚©${payment.amount.toLocaleString()}</td>
                    <td>${payment.method}</td>
                    <td>${payment.depositorName}</td>
                    <td><span style="color: ${payment.status === 'ì…ê¸ˆì™„ë£Œ' ? 'var(--success)' : 'var(--gold)'}">${payment.status}</span></td>
                </tr>
            `).join('');
        }

        // ============= ê°•ì¢Œ ê´€ë¦¬ =============
        function openCourseModal() {
            editingCourseId = null;
            document.getElementById('courseModalTitle').textContent = 'ìƒˆ ê°•ì¢Œ ì¶”ê°€';
            document.getElementById('courseNameInput').value = '';
            document.getElementById('courseDescInput').value = '';
            document.getElementById('coursePriceInput').value = '';
            document.getElementById('courseOriginalPriceInput').value = '';
            document.getElementById('courseEmojiInput').value = '';
            document.getElementById('courseModal').classList.add('active');
        }

        function closeCourseModal() {
            document.getElementById('courseModal').classList.remove('active');
        }

        function editCourse(id) {
            const courses = DB.get('courses');
            const course = courses.find(c => c.id === id);
            editingCourseId = id;
            
            document.getElementById('courseModalTitle').textContent = 'ê°•ì¢Œ ìˆ˜ì •';
            document.getElementById('courseNameInput').value = course.name;
            document.getElementById('courseDescInput').value = course.desc;
            document.getElementById('coursePriceInput').value = course.price;
            document.getElementById('courseOriginalPriceInput').value = course.originalPrice || '';
            document.getElementById('courseEmojiInput').value = course.emoji;
            document.getElementById('courseModal').classList.add('active');
        }

        function saveCourse(event) {
            event.preventDefault();
            const courses = DB.get('courses');
            
            const courseData = {
                name: document.getElementById('courseNameInput').value,
                desc: document.getElementById('courseDescInput').value,
                price: parseInt(document.getElementById('coursePriceInput').value),
                originalPrice: parseInt(document.getElementById('courseOriginalPriceInput').value) || null,
                emoji: document.getElementById('courseEmojiInput').value || 'ğŸ“š'
            };

            if (editingCourseId) {
                const index = courses.findIndex(c => c.id === editingCourseId);
                courses[index] = { ...courses[index], ...courseData };
            } else {
                courseData.id = Date.now();
                courses.push(courseData);
            }

            DB.set('courses', courses);
            renderCourses();
            renderAdminCourses();
            updateAdminStats();
            closeCourseModal();
        }

        function deleteCourse(id) {
            if (!confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
            const courses = DB.get('courses').filter(c => c.id !== id);
            DB.set('courses', courses);
            renderCourses();
            renderAdminCourses();
            updateAdminStats();
        }

        // ============= ê´‘ê³  ê´€ë¦¬ =============
        function openAdModal() {
            editingAdId = null;
            document.getElementById('adModalTitle').textContent = 'ìƒˆ ê´‘ê³  ì¶”ê°€';
            document.getElementById('adTitleInput').value = '';
            document.getElementById('adContentInput').value = '';
            document.getElementById('adButtonInput').value = 'ì§€ê¸ˆ í™•ì¸í•˜ê¸°';
            document.getElementById('adEmojiInput').value = '';
            document.getElementById('adStatusInput').value = 'active';
            document.getElementById('adModal').classList.add('active');
        }

        function closeAdModal() {
            document.getElementById('adModal').classList.remove('active');
        }

        function editAd(id) {
            const ads = DB.get('ads');
            const ad = ads.find(a => a.id === id);
            editingAdId = id;
            
            document.getElementById('adModalTitle').textContent = 'ê´‘ê³  ìˆ˜ì •';
            document.getElementById('adTitleInput').value = ad.title;
            document.getElementById('adContentInput').value = ad.content;
            document.getElementById('adButtonInput').value = ad.button;
            document.getElementById('adEmojiInput').value = ad.emoji;
            document.getElementById('adStatusInput').value = ad.status;
            document.getElementById('adModal').classList.add('active');
        }

        function saveAd(event) {
            event.preventDefault();
            const ads = DB.get('ads');
            
            const adData = {
                title: document.getElementById('adTitleInput').value,
                content: document.getElementById('adContentInput').value,
                button: document.getElementById('adButtonInput').value,
                emoji: document.getElementById('adEmojiInput').value || 'ğŸ“¢',
                status: document.getElementById('adStatusInput').value
            };

            if (editingAdId) {
                const index = ads.findIndex(a => a.id === editingAdId);
                ads[index] = { ...ads[index], ...adData };
            } else {
                adData.id = Date.now();
                ads.push(adData);
            }

            DB.set('ads', ads);
            renderAds();
            renderAdminAds();
            updateAdminStats();
            closeAdModal();
        }

        function deleteAd(id) {
            if (!confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
            const ads = DB.get('ads').filter(a => a.id !== id);
            DB.set('ads', ads);
            renderAds();
            renderAdminAds();
            updateAdminStats();
        }

        // ============= ì„¤ì • =============
        function loadSettings() {
            const settings = DB.get('settings');
            document.getElementById('bankName').value = settings.bankName;
            document.getElementById('accountNumber').value = settings.accountNumber;
            document.getElementById('accountHolder').value = settings.accountHolder;
        }

        function saveSettings() {
            const settings = {
                bankName: document.getElementById('bankName').value,
                accountNumber: document.getElementById('accountNumber').value,
                accountHolder: document.getElementById('accountHolder').value
            };
            DB.set('settings', settings);
            alert('ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ============= ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸° =============
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }
    </script>
</body>
</html>
